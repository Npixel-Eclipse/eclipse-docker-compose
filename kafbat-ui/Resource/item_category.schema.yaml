$schema: http://json-schema.org/draft-04/schema#
type: array
items:
  type: object
  additionalProperties: false
  required:
    - Id
    - Name
  properties:
    Id:
      type: integer
      minimum: 1
    Name:
      type: string
      pattern: ^[A-Z][A-Za-z0-9_]*$
    Description:
      type: string
      ref: description
      visible: true

    GivenProperty:
      type: array
      items:
        type: object
        additionalProperties: false
        required:
          - PropertyName
          - PropertyValue
        properties:
          PropertyName:
            type: string
          PropertyValue:
            type: integer

    #해당 데이터의 부모 카테고리 연결
    Parent:
      type: string
      visible: true
      ref: item_category
    Comment:
      type: string
    
    #리소스 경로 가이드: /Game/UIIcon/Item/파일명.파일명
    Icon: 
      type: string
    
    #해당 카테고리 내 아이템의 최대 보유 수량
    # 어떤 프로퍼티 x를 각 플레이어들에게 넣어주고, 그 프로퍼티 x를 연결해서 그 값을 사용함
    #ex. 1,000이라면 체력 회복 물약 상/중/하 수량을 모두 합쳐 1,000개까지만 보유 가능
    MaxCarryAmount:
      type: string
      ref: property
    
    #해당 카테고리 아이템을 인벤토리에서 터치했을 때 출력되는 레이어의 텍스트
    DefaultUseDescription:
      type: string
      ref: description
    
    #테이블 셀 아님
    Equip:
      type: object
      additionalProperties: false
      required:
        - EquipSlot
      properties:
        
        #장착 슬롯 설정
        EquipSlot:
          type: string
          ref: equip_slot
        
        #해당 카테고리의 중복 장착 슬롯 여부
          #A라는 반지 아이템을 2개의 반지 슬롯에 장착하게 할 경우,
            #각각의 반지 슬롯을 Ring1, Ring2로 설정
            #A 반지 아이템의 카테고리 EquipSlot에 Ring1 설정 + AdditionalEquipSlots에 Ring2 설정
        AdditionalEquipSlots:
          type: array
          items:
            type: string
            ref: equip_slot

        # 설정시 해당 Type의 모든 슬롯에 장착 가능
        AdditionalEquipSlotsByType:
          type: string
          enum:
            - Solidarity
    
    ClassLimit:
      type: array
      items:
        type: string
        ref: class
        
    DefaultInventory:
      type: string
      ref: inventory
      
    EquipBuff:
      type: string
      ref: buff
      
    EquipParent:
      type: string
      ref: item_category

    WeaponAsset: #리소스 경로 가이드: /Game/Weapons/파일명.파일명
      type: string
      
    CanNotLock:
      type: boolean

    # XCharacterDataAsset.h 의 EXCharacterWeaponType 과 연동. 순서 변경 및 값 추가/제거 시에 코드 작업 병행 되어야 함!!
    AnimationGroupType:
      type: string
      enum:
        - BareHand
        - OneHandSwordSheild #한손검
        - TwoHandSword #대검
        - Bow #활
        - Crossbow #석궁
        - Staff #지팡이
        - Orb #오브
        - Dagger
        - Spear
        - Axe
        - TwinShortSword #쌍단검
        - Katana #카타나

    # 획득하였을때 레드닷을 발생시킵니다.
    RedDotOnAcquired:
      type: string
      enum:
        - Always # 획득시
        - FirstOnly # 최초 획득시

    # 인벤토리 정렬시 카테고리에 따른 정렬 순서 (오름차순)
    # 아무것도 입력하지 않거나 기본값(0)을 입력한 경우 정렬시 맨 마지막에 위치하게 됨
    SortOrder:
      type: integer
      minimum: 0
      default: 0

    RequiredWeaponEquipItemCategory:
      type: string
      ref: item_category

    # 더미 아이템 여부
    ## 다음의 경우 더미로 분류함.
    ## - 레시피 시스템: RecipeOutput에 이 카테고리의 아이템을 지정하면, 그 아이템을 받지 않음.
    Dummy:
      type: boolean

    # 원 터치 장착 여부
    OneTouchEquip:
      type: boolean

    # 사용시 시스템 메시지
    ConsumeMessage:
      type: string
      ref: system_message

    # 아이템 정보에서 총합 개수를 보여줄지 여부
    ShowDetailAmount:
      type: boolean
      default: true
    # NPC 상인에게 판매 시 초기 셋팅 값
    # min인 경우 : 최솟값 셋팅 = 1
    # max인 경우 : 최댓값 셋팅 = RecipeRepeatLimit = 최대치 미만인 경우 보유 수량만큼 셋팅
    # null인 경우 min
    SellInitialSetting :
      type: string
      enum:
        - min
        - max
    # 인벤토리에서 아이템 사용 시 사용 초기 셋팅값 min/max 설정
    # min인 경우 : 최솟값 셋팅 = 1
    # max인 경우 : 최댓값 셋팅 = CardPackUseMaxCount/RecipeRepeatLimit = 최대치 미만인 경우 보유 수량만큼 셋팅
    # null인 경우 min
    UseInitialSetting :
      type: string
      enum:
        - min
        - max
