$schema: http://json-schema.org/draft-04/schema#
type: array
items:
  type: object
  additionalProperties: false
  required:
    - Topic
    - MessageType
    - ProtoFile
    - ProtoMessage
    - Comment
    - UpdatedAt
  properties:
    # 토픽 이름
    Topic:
      type: string

    # Message 자료형
    MessageType:
      type: string
      enum:
        - Protobuf
        - Json
        - Other
  
    # Proto 파일 이름
    # ./Proto 하위의 경로 및 이름을 작성
    ProtoFile:
      type: string
    
    # Proto 구조체(Message) 이름
    ## 중첩 구조체인 경우 / 문자를 사용하여 구분
    ProtoMessage:
      type: string
    
    # 설명
    Comment:
      type: string

    # 내부 토픽 여부
    ## (Kafka Streams의 changelog 등)
    InternalTopic:
      type: boolean

    # Serde 캐시를 이용하는 토픽 여부
    # ex) item의 인벤토리, quest...
    Cache:
      type: boolean
    
    # 프로듀서
    Producer:
      type: array
      items:
        type: string
        enum:
          - Battle
          - Store
          - Front
          - Session
          - Lobby
          - Item
          - Quest
          - Party
          - Guild
          - Notification
          - Chat
          - Trade
          - HuntingZone
          - Postbox
          - Admin
          - Matchmaking
          - Fortress
          - Dungeon
          - PkLog
          - Ranking
          - Bridge
          - Log
    
    # 컨슈머
    Consumer:
      type: array
      items:
        type: string
        enum:
          - Battle
          - Store
          - Front
          - Session
          - Lobby
          - Item
          - Quest
          - Party
          - Guild
          - Notification
          - Chat
          - Trade
          - HuntingZone
          - Postbox
          - Admin
          - Matchmaking
          - Fortress
          - Dungeon
          - PkLog
          - Ranking
          - Bridge
          - Log

    # 수정일자
    ## 이 리소스 파일에 수정한 일자.
    ## 언제 마지막으로 수정되어서 최신화 해야할지 기록용으로 사용
    UpdatedAt:
      type: string

    # 삭제 여부
    ## 더 이상 사용되지 않는 토픽으로, 히스토리 관리 및 꼬임 방지용으로 기록
    Deleted:
      type: boolean

    # 삭제 사유
    ## 히스토리용
    DeleteReason:
      type: string
